/* 
*  CSS TABLE OF CONTENTS (NEEDS EDITS)
*   
*  1.0 - Design Tokens - Color Palettes, Fonts, Globals
*  2.0 - Body
*  3.0 - Header
*  4.0 - Main Nav
*  4.0 - Intro Section
*  5.0 - Testimonials Section
*  6.0 - Projects Section
*  7.0 - About Section
*  8.0 - Footer
*/

:root {
    /* colors */
    /* --color-TEXT: '#787b6a';  */
    --color-GREEN: '#81846f';
    --color-TAN: "#faf1e2";
    --color-HIGHLIGHT-ON-TAN: '#b49d73';
    --color-HIGHLIGHT-ON-GREEN: '#eed8b3';
    --color-PARAGRAPH-ON-TAN: '#b5af9c';
    --color-PARAGRAPH-ON-GREEN: '#faf1e2';
    --color-ITALICS: '#d6cfbc';
    --color-ACTIVE-LINK: "#2c701f";

    --color-TESTIMONIAL-TOP: "#648767";
    --color-TESTIMONIAL-BOTTOM: "#648767";

    --color-PROJECTS-BG: "#f9faed";

    --space-xs:clamp(0.75rem,0.69rem + 0.29vw,0.9375rem);
    --space-s:clamp(1rem,0.92rem + 0.39vw,1.25rem);
    --space-m:clamp(1.5rem,1.38rem + 0.58vw,1.875rem);
    --space-l:clamp(2rem,1.84rem + 0.78vw,2.5rem);
    --space-xl:clamp(3rem,2.77rem + 1.17vw,3.75rem);
    --space-2xl:clamp(4rem,3.69rem + 1.55vw,5rem);
    --space-3xl:clamp(6rem,5.53rem + 2.33vw,7.5rem);
    --space-xs-s:clamp(0.75rem,0.59rem + 0.78vw,1.25rem);
    --space-s-m:clamp(1rem,0.73rem + 1.36vw,1.875rem);
    --space-m-l:clamp(1.5rem,1.19rem + 1.55vw,2.5rem);
    --space-l-xl:clamp(2rem,1.46rem + 2.72vw,3.75rem);
    --space-l-2xl:clamp(2rem,1.07rem + 4.66vw,5rem);
    --space-xl-2xl:clamp(3rem,2.38rem + 3.11vw,5rem);
    --space-2xl-3xl:clamp(4rem,2.91rem + 5.44vw,7.5rem);
    
    /* Our Modular Scales: https://type-scale.com/ */
    --size-step-0:clamp(1rem,0.92rem + 0.39vw,1.25rem);
    --size-step-1:clamp(1.1875rem,1.01rem + 0.87vw,1.75rem);
    --size-step-2:clamp(1.4375rem,1.11rem + 1.65vw,2.5rem);
    --size-step-3:clamp(1.75rem,1.19rem + 2.82vw,3.5625rem);
    --size-step-4:clamp(2.0625rem,1.15rem + 4.56vw,5rem);
    --size-step-5:clamp(2.5rem,1.08rem + 7.09vw,7.0625rem);
    --size-step-6:clamp(3rem,0.84rem + 10.78vw,9.9375rem);
    
    --font-base: "Atkinson Hyperlegible",Inter,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;
    --font-serif:Georgia,sans-serif;
    
    /* For this page the --measure is disabled because it overrides the layout for the grid */
    /* --measure: 60ch; */
    
    
    --border-thin: var(--space-xs);
    --gutter:var(--space-xs);
    /* --gutter:var(--size-step-0); */
    --border-radius:var(--size-step-0);
    --transition-base:250ms ease;
    --transition-movement:200ms linear;
    --transition-fade:200ms ease;
    --transition-bounce:500ms cubic-bezier(0.5,0.05,0.2,1.5);
    --tracking:-0.05ch;
    --tracking-s:-0.075ch;
    --wrapper-max-width: 55rem;
}

* {
    max-inline-size: var(--measure);
}

html,
body,
div,
header,
nav,
main,
footer {
    max-inline-size: none;
}

a {
    text-decoration: none;
    color: #b49d73;
}

/*** 2.0 - Body ***/

body {
    font-family:var(--font-base);
    font-size:var(--size-step-1);
    letter-spacing:var(--tracking);
}

.page-sidebar {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs, var(--size-step-1));

    background-color: #faf1e2;
    margin-inline-start: var(--size-step-2);
    margin-block-start: var(--size-step-2);
}

.page-sidebar > :first-child {
    flex-basis: 70rem;
    flex-grow: 1;
}


.page-sidebar > :last-child {
    flex-basis: 0;
    flex-grow: 999;
    min-inline-size: 25%;   
}

/*** 3.0 - Headers ***/

h1,h2,h3{
    letter-spacing:var(--tracking-s);
    line-height:1;
}

h1 {
    font-size:var(--size-step-4)
}

h2 {
    font-size:var(--size-step-3)
}

h3 {
    font-size:var(--size-step-2)
}

span {
  font-size: var(--size-step-0);
}

blockquote:not([className]),li,p{
    max-width: 50ch;
}

h1,h2,h3{
    max-width:22ch;
}

.stack {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
}

.stack > * {
    margin-block: 0;
}

/* .stack > * + * {
    margin-block-start: var(--space-xs-s, 1.5rem);
} */

.start-side {
    display: flex;
    flex-wrap: wrap;
    flex-direction: column;
    align-items: flex-start;

    margin-inline-start: var(--size-step-4);

}

/*** 4.0 - Main Nav ***/

.cluster-nav-start {
    display: flex;
    flex-wrap: wrap;
    gap: var(--size-step-2, 1rem);
    justify-content: start;
    align-items: center;
}
  
#image-container {
  position: relative;
  width: 100%;
}

#default-image {
    position: relative;
  
    max-inline-size: 100%; 
    max-width: var(--size-step-4);
}

#hover-image {
    position: relative;
    display: none;
  
    max-inline-size: 100%; 
    max-width: var(--size-step-4);
}

#image-container:hover #hover-image {
  display: block;
}

#image-container:hover #default-image {
  display: none;
}

nav > ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
}

nav ul li a:not(.link-active) {
    /* styles for non-active links */
 }

 nav ul li a.link-active {
    /* styles for active links */
 }

.link,
.link *,
.link :after,
.link :before,
.link:after,
.link:before {
  border: 0 solid;
  box-sizing: border-box;
}

.link {
    -webkit-tap-highlight-color: transparent;
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
    color: inherit;
    cursor: pointer;
    font-size: var(--size-step-0);
    font-weight: 400;
    line-height: 1.4;
    margin: 0;
    -webkit-mask-image: -webkit-radial-gradient(#000, #fff);
    padding: 0;
    text-transform: uppercase;
  
    margin-block-start: var(--size-step-0);
    margin-block-end: var(--size-step-0);
}

.link:disabled {
  cursor: default;
}

.link:-moz-focusring {
  outline: auto;
}

.link svg {
  display: block;
  vertical-align: middle;
}

.link [hidden] {
  display: none;
}

.link{
  --margin: 20%;
  background: none;
  -webkit-clip-path: polygon(
    calc(var(--margin) * -1) 0,
    calc(100% + var(--margin)) 0,
    calc(100% + var(--margin)) 100%,
    calc(var(--margin) * -1) 100%
  );

  clip-path: polygon(
    calc(var(--margin) * -1) 0,
    calc(100% + var(--margin)) 0,
    calc(100% + var(--margin)) 100%,
    calc(var(--margin) * -1) 100%
  );

  display: inline;
  font-weight: 400;
  -webkit-mask-image: none;
  position: relative;
  text-transform: uppercase;
  transition: 0.2s;
}

.link:hover {
  transform: scale(1.1);
}

.link-active { 
    color: #2c701f;

    pointer-events: none;
    /* cursor: default; */
}

.link-active:active {
    border-radius: 0.25em;
    border: 2px dotted #b49d73;
}

.link:before {
  background: #81846f;
  content: "";
  height: 2px;
  left: -100%;
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  transition: 0.2s;
  width: calc(100% + var(--margin) * 2);
}

.link:hover:before {
  transform: translate(calc(100% - var(--margin) * 2), -50%);
}

/*** 4.0 - Intro Section ***/

.box-intro {
    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    align-items: flex-start;
    align-content: flex-start;
    
    margin-block-start: var(--size-step-3);
    margin-inline-end: var(--size-step-1);
}

.intro-title {
    margin-block-start: var(--size-step-2);
}

.intro-sub-title {
    margin-block-start: var(--size-step-2);
}

.intro-par {
    margin-block-start: var(--size-step-4);
}

/*** 5.0 - Testimonials Section ***/

.testimonial-box {
	margin-inline-start: var(--size-step-2);
	/* margin-right: auto; */
	max-width: var(--wrapper-max-width, 85rem);
	padding-inline-start: var(--gutter);
	padding-inline-end: var(--gutter);
	position: relative;

}

.testimonials-title {
    margin-block-start: var(--size-step-4);
    margin-block-end: var(--size-step-2);
}

.grid {
	display: grid
}

.mt-l-xl {
	margin-top: clamp(2rem,1.46rem + 2.72vw,3.75rem)
}

.grid {
	display: grid;
	gap: var(--gutter,var(--space-s-l));
	grid-template-columns: repeat(var(--grid-placement,auto-fill),minmax(var(--grid-min-item-size,16rem),1fr))
}

.grid[data-rows=masonry] {
	align-items: start;
	grid-template-rows: masonry
}

.grid[data-layout="50-50"] {
	--grid-placement: auto-fit;
	--grid-min-item-size: clamp(16rem,50vw,26rem);
}

.testimonial-card {
    background-color: #ffff;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 80 40' width='80' height='40'%3E%3Cpath fill='%23f9faed' fill-opacity='0.68' d='M0 40a19.96 19.96 0 0 1 5.9-14.11 20.17 20.17 0 0 1 19.44-5.2A20 20 0 0 1 20.2 40H0zM65.32.75A20.02 20.02 0 0 1 40.8 25.26 20.02 20.02 0 0 1 65.32.76zM.07 0h20.1l-.08.07A20.02 20.02 0 0 1 .75 5.25 20.08 20.08 0 0 1 .07 0zm1.94 40h2.53l4.26-4.24v-9.78A17.96 17.96 0 0 0 2 40zm5.38 0h9.8a17.98 17.98 0 0 0 6.67-16.42L7.4 40zm3.43-15.42v9.17l11.62-11.59c-3.97-.5-8.08.3-11.62 2.42zm32.86-.78A18 18 0 0 0 63.85 3.63L43.68 23.8zm7.2-19.17v9.15L62.43 2.22c-3.96-.5-8.05.3-11.57 2.4zm-3.49 2.72c-4.1 4.1-5.81 9.69-5.13 15.03l6.61-6.6V6.02c-.51.41-1 .85-1.48 1.33zM17.18 0H7.42L3.64 3.78A18 18 0 0 0 17.18 0zM2.08 0c-.01.8.04 1.58.14 2.37L4.59 0tH2.07z'%3E%3C/path%3E%3C/svg%3E");
    box-shadow: 0 5px 20px 2px rgba(0,0,0,0.1);

	border-radius: var(--border-radius);
	padding: var(--space-m-l)        
}

.testimonial-card {
    max-inline-size: 30ch;

}

.testimonial-card > blockquote {
    font-size: .8em;
    letter-spacing: .03em;
    font-style: italic;
}

.testimonial-sidebar {
    display: flex;
    flex-wrap: wrap;
    gap: var(--gutter, var(--size-step-1));    
    
    /* This is commented out as an optional highlight for the recommenders */
    /* background-color: #648767;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 80 40' width='80' height='40'%3E%3Cpath fill='%23faf1e2' fill-opacity='0.05' d='M0 40a19.96 19.96 0 0 1 5.9-14.11 20.17 20.17 0 0 1 19.44-5.2A20 20 0 0 1 20.2 40H0zM65.32.75A20.02 20.02 0 0 1 40.8 25.26 20.02 20.02 0 0 1 65.32.76zM.07 0h20.1l-.08.07A20.02 20.02 0 0 1 .75 5.25 20.08 20.08 0 0 1 .07 0zm1.94 40h2.53l4.26-4.24v-9.78A17.96 17.96 0 0 0 2 40zm5.38 0h9.8a17.98 17.98 0 0 0 6.67-16.42L7.4 40zm3.43-15.42v9.17l11.62-11.59c-3.97-.5-8.08.3-11.62 2.42zm32.86-.78A18 18 0 0 0 63.85 3.63L43.68 23.8zm7.2-19.17v9.15L62.43 2.22c-3.96-.5-8.05.3-11.57 2.4zm-3.49 2.72c-4.1 4.1-5.81 9.69-5.13 15.03l6.61-6.6V6.02c-.51.41-1 .85-1.48 1.33zM17.18 0H7.42L3.64 3.78A18 18 0 0 0 17.18 0zM2.08 0c-.01.8.04 1.58.14 2.37L4.59 0H2.07z'%3E%3C/path%3E%3C/svg%3E"); */

    border-radius: var(--border-radius);
    padding-block-start: var(--size-step-0);
    padding-inline-start: var(--size-step-0);
    padding-inline-end: var(--size-step-0);
    max-inline-size: 30ch;
}

/* progressive enhancement of highlighting the selected card */
.testimonial-sidebar ::selection {
	/* background: #2c701f; */
	/* color: #000; */
}

.testimonial-sidebar > :first-child {
    /* ↓ The width when the sidebar _is_ a sidebar */
    flex-basis: 4rem;
    flex-grow: 1;

    /* this seems to do it, does not allow the image inside the testimonial-sidebar class to stretch vertically */
    block-size: 100%;
}

.testimonial-sidebar > :last-child {
    flex-basis: 0;
    flex-grow: 999;
    min-inline-size: 50%;

}

/* .flow > * + * {
	margin-top: var(--flow-space,1em)
} */

.testimonial-profile {
    aspect-ratio: (16 / 9);
    overflow: hidden;
    display: flex;
    justify-content: flex-start;
    align-items: center;
}

.testimonial-profile > img {
    border-radius: 100%;
    inline-size: 100%;
    block-size: 100%;
    object-fit: cover;
}

.testimonial-profile-details {
    display: flex;
    flex-direction: column;
    justify-content: center;
}

/* .testimonial-profile-details > * + * { */
    /* margin-block-start: var(--space-2xl); */
/* } */

.testimonial-profile-details > cite {
    display: inline;
    font-size: .7em;
    letter-spacing: .03em;
}

.testimonial-profile-details > span {
    display: inline;
    font-size: .5em;
    letter-spacing:.05em;
}






.cluster-nav-end {
    display: flex;
    flex-wrap: wrap;
    gap: var(--size-step-2, 1rem);
    justify-content: center;
    align-items: center;
}
